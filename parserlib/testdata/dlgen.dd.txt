main :- "foo".
----
application/graphviz
digraph G {
  "0" [fillcolor="darkseagreen2" label="0: Match(source{char: \"f\", pos: P1}; {}) [P1]" shape="box" style="filled"];
  "1" [fillcolor="darkseagreen2" label="1: Match(next{left: P1, right: P2}; {}) [P1]" shape="box" style="filled"];
  "2" [fillcolor="thistle" label="2: Join(P1) [P2]" shape="box" style="filled"];
  "3" [fillcolor="darkseagreen2" label="3: Match(source{char: \"o\", pos: P2}; {}) [P2]" shape="box" style="filled"];
  "4" [fillcolor="thistle" label="4: Join(P2) [P2]" shape="box" style="filled"];
  "5" [fillcolor="darkseagreen2" label="5: Match(next{left: P2, right: P3}; {}) [P2]" shape="box" style="filled"];
  "6" [fillcolor="thistle" label="6: Join(P2) [P3]" shape="box" style="filled"];
  "7" [fillcolor="darkseagreen2" label="7: Match(source{char: \"o\", pos: P3}; {}) [P3]" shape="box" style="filled"];
  "8" [fillcolor="thistle" label="8: Join(P3) []" shape="box" style="filled"];
  "source" [fillcolor="darksalmon" label="source:  []" shape="box" style="filled"];
  "next" [fillcolor="darksalmon" label="next:  []" shape="box" style="filled"];
  "main" [fillcolor="lightblue" label="main: Subst({from: P1, to: P3}) []" shape="box" style="filled"];
  "0" -> "2" [];
  "1" -> "2" [];
  "2" -> "4" [];
  "3" -> "4" [];
  "4" -> "6" [];
  "5" -> "6" [];
  "6" -> "8" [];
  "7" -> "8" [];
  "8" -> "main" [];
  "next" -> "1" [];
  "next" -> "5" [];
  "source" -> "0" [];
  "source" -> "3" [];
  "source" -> "7" [];
}
