main :- "foo".
--
foo
----
text/plain
> source{char: "f", id: 0}
> source{char: "o", id: 1}
> source{char: "o", id: 2}
> next{left: 0, right: 1}
> next{left: 1, right: 2}
main{span: span{from: 0, to: 2}}; {P1: 0, P2: 1, P3: 2}.

main :- ["foo", "bar"].
--
foobar
----
text/plain
> source{char: "f", id: 0}
> source{char: "o", id: 1}
> source{char: "o", id: 2}
> source{char: "b", id: 3}
> source{char: "a", id: 4}
> source{char: "r", id: 5}
> next{left: 0, right: 1}
> next{left: 1, right: 2}
main_seq_0{span: span{from: 0, to: 2}}; {P1: 0, P2: 1, P3: 2}.
> next{left: 2, right: 3}
> next{left: 3, right: 4}
> next{left: 4, right: 5}
main_seq_1{span: span{from: 3, to: 5}}; {P1: 3, P2: 4, P3: 5}.
main{seq_0: span{from: 0, to: 2}, seq_1: span{from: 3, to: 5}, span: span{from: 0, to: 5}}; {P1: 0, P2: 2, P3: 3, P4: 5}.

main :- ("foo" | "bar").
--
foo
----
text/plain
> source{char: "f", id: 0}
> source{char: "o", id: 1}
> source{char: "o", id: 2}
> next{left: 0, right: 1}
> next{left: 1, right: 2}
main_choice_0{span: span{from: 0, to: 2}}; {P1: 0, P2: 1, P3: 2}.
main{span: span{from: 0, to: 2}}; {P1: 0, P2: 2}.

main :- ("foo" | "bar").
--
bar
----
text/plain
> source{char: "b", id: 0}
> source{char: "a", id: 1}
> source{char: "r", id: 2}
> next{left: 0, right: 1}
> next{left: 1, right: 2}
main_choice_1{span: span{from: 0, to: 2}}; {P1: 0, P2: 1, P3: 2}.
main{span: span{from: 0, to: 2}}; {P1: 0, P2: 2}.

main :- (foo | bar).
foo :- "foo".
bar :- "bar".
--
foo
----
text/plain
> source{char: "f", id: 0}
> source{char: "o", id: 1}
> source{char: "o", id: 2}
> next{left: 0, right: 1}
> next{left: 1, right: 2}
foo{span: span{from: 0, to: 2}}; {P1: 0, P2: 1, P3: 2}.
main_choice_0{span: span{from: 0, to: 2}}; {P1: 0, P2: 2}.
main{span: span{from: 0, to: 2}}; {P1: 0, P2: 2}.
