.table foo;
bar{a: A, b: B} :-
  foo{a: A, b: B} & A != B.
----
digraph G {
  "0" [label="0: Match(foo{a: A, b: B}; {})" shape="box"];
  "1" [label="1: A != B" shape="box"];
  "bar" [label="bar: Subst(bar{a: A, b: B})" shape="box"];
  "foo" [label="foo" shape="box"];
  "0" -> "1" [];
  "1" -> "bar" [];
  "foo" -> "0" []
}
