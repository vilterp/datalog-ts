.table mother
----
text/plain

.table father
----
text/plain

matGramp{child: A, grandfather: C} :-
  mother{child: A, mother: B} & father{child: B, father: C}.
----
text/propagation-log

.rulegraph
----
application/graphviz
digraph G {
  "0" [fillcolor="darkseagreen2" label="0: Match(mother{child: A, mother: B}; {}) [B]" shape="box" style="filled"];
  "1" [fillcolor="darkseagreen2" label="1: Match(father{child: B, father: C}; {}) [B]" shape="box" style="filled"];
  "2" [fillcolor="thistle" label="2: Join(matGramp, B: 1.child = 0.mother) []" shape="box" style="filled"];
  "mother" [fillcolor="darksalmon" label="mother:  []" shape="box" style="filled"];
  "father" [fillcolor="darksalmon" label="father:  []" shape="box" style="filled"];
  "matGramp" [fillcolor="lightblue" label="matGramp: Subst({child: A, grandfather: C}) []" shape="box" style="filled"];
  "0" -> "2" [];
  "1" -> "2" [];
  "2" -> "matGramp" [];
  "father" -> "1" [];
  "mother" -> "0" [];
}

father{child: "Mary", father: "Mark"}.
----
text/propagation-log
from null to father: father{child: "Mary", father: "Mark"}; {}.  []
  father{child: "Mary", father: "Mark"}; {}
from father to 1: father{child: "Mary", father: "Mark"}; {}. Match(father{child: B, father: C}; {}) [B]
  father{child: "Mary", father: "Mark"}; {B: "Mary", C: "Mark"}
from 1 to 2: father{child: "Mary", father: "Mark"}; {B: "Mary", C: "Mark"}. Join(matGramp, B: 1.child = 0.mother) []

mother{child: "Pete", mother: "Mary"}.
----
text/propagation-log
from null to mother: mother{child: "Pete", mother: "Mary"}; {}.  []
  mother{child: "Pete", mother: "Mary"}; {}
from mother to 0: mother{child: "Pete", mother: "Mary"}; {}. Match(mother{child: A, mother: B}; {}) [B]
  mother{child: "Pete", mother: "Mary"}; {A: "Pete", B: "Mary"}
from 0 to 2: mother{child: "Pete", mother: "Mary"}; {A: "Pete", B: "Mary"}. Join(matGramp, B: 1.child = 0.mother) []
  matGramp{child: "Pete", mother: "Mary"}; {A: "Pete", B: "Mary", C: "Mark"}
from 2 to matGramp: matGramp{child: "Pete", mother: "Mary"}; {A: "Pete", B: "Mary", C: "Mark"}. Subst({child: A, grandfather: C}) []
  matGramp{child: "Pete", grandfather: "Mark"}; {A: "Pete", B: "Mary", C: "Mark"}
