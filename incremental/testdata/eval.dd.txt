.table mother
----
{
  "facts": "",
  "graph": {
    "nextNodeID": 0,
    "nodes": {
      "mother": {
        "desc": {
          "type": "BaseFactTable",
          "name": "mother"
        },
        "cache": []
      }
    },
    "edges": {}
  }
}

.table father
----
{
  "facts": "",
  "graph": {
    "nextNodeID": 0,
    "nodes": {
      "mother": {
        "desc": {
          "type": "BaseFactTable",
          "name": "mother"
        },
        "cache": []
      },
      "father": {
        "desc": {
          "type": "BaseFactTable",
          "name": "father"
        },
        "cache": []
      }
    },
    "edges": {}
  }
}

matGramp{child: A, grandfather: C} :-
  mother{child: A, mother: B} & father{child: B, father: C}.
----
{
  "facts": "",
  "graph": {
    "nextNodeID": 2,
    "nodes": {
      "0": {
        "desc": {
          "type": "Join",
          "leftSide": {
            "type": "Record",
            "relation": "mother",
            "attrs": {
              "child": {
                "type": "Var",
                "name": "A"
              },
              "mother": {
                "type": "Var",
                "name": "B"
              }
            }
          },
          "rightSide": {
            "type": "Record",
            "relation": "father",
            "attrs": {
              "child": {
                "type": "Var",
                "name": "B"
              },
              "father": {
                "type": "Var",
                "name": "C"
              }
            }
          }
        },
        "cache": []
      },
      "1": {
        "desc": {
          "type": "Match",
          "rec": {
            "type": "Record",
            "relation": "matGramp",
            "attrs": {
              "child": {
                "type": "Var",
                "name": "A"
              },
              "grandfather": {
                "type": "Var",
                "name": "C"
              }
            }
          }
        },
        "cache": []
      },
      "mother": {
        "desc": {
          "type": "BaseFactTable",
          "name": "mother"
        },
        "cache": []
      },
      "father": {
        "desc": {
          "type": "BaseFactTable",
          "name": "father"
        },
        "cache": []
      },
      "matGramp": {
        "desc": {
          "type": "Union"
        },
        "cache": []
      }
    },
    "edges": {
      "0": [
        {
          "toID": "1"
        }
      ],
      "1": [
        {
          "toID": "matGramp"
        }
      ],
      "mother": [
        {
          "toID": "0",
          "joinSide": "left"
        }
      ],
      "father": [
        {
          "toID": "0",
          "joinSide": "right"
        }
      ]
    }
  }
}

mother{child: "Pete", mother: "Mary"}.
----
{
  "facts": "mother{child: \"Pete\", mother: \"Mary\"}",
  "graph": {
    "nextNodeID": 2,
    "nodes": {
      "0": {
        "desc": {
          "type": "Join",
          "leftSide": {
            "type": "Record",
            "relation": "mother",
            "attrs": {
              "child": {
                "type": "Var",
                "name": "A"
              },
              "mother": {
                "type": "Var",
                "name": "B"
              }
            }
          },
          "rightSide": {
            "type": "Record",
            "relation": "father",
            "attrs": {
              "child": {
                "type": "Var",
                "name": "B"
              },
              "father": {
                "type": "Var",
                "name": "C"
              }
            }
          }
        },
        "cache": [
          {
            "type": "Record",
            "relation": "mother",
            "attrs": {
              "child": {
                "type": "StringLit",
                "val": "Pete"
              },
              "mother": {
                "type": "StringLit",
                "val": "Mary"
              }
            }
          }
        ]
      },
      "1": {
        "desc": {
          "type": "Match",
          "rec": {
            "type": "Record",
            "relation": "matGramp",
            "attrs": {
              "child": {
                "type": "Var",
                "name": "A"
              },
              "grandfather": {
                "type": "Var",
                "name": "C"
              }
            }
          }
        },
        "cache": []
      },
      "mother": {
        "desc": {
          "type": "BaseFactTable",
          "name": "mother"
        },
        "cache": [
          {
            "type": "Record",
            "relation": "mother",
            "attrs": {
              "child": {
                "type": "StringLit",
                "val": "Pete"
              },
              "mother": {
                "type": "StringLit",
                "val": "Mary"
              }
            }
          }
        ]
      },
      "father": {
        "desc": {
          "type": "BaseFactTable",
          "name": "father"
        },
        "cache": []
      },
      "matGramp": {
        "desc": {
          "type": "Union"
        },
        "cache": []
      }
    },
    "edges": {
      "0": [
        {
          "toID": "1"
        }
      ],
      "1": [
        {
          "toID": "matGramp"
        }
      ],
      "mother": [
        {
          "toID": "0",
          "joinSide": "left"
        }
      ],
      "father": [
        {
          "toID": "0",
          "joinSide": "right"
        }
      ]
    }
  }
}

father{child: "Mary", father: "Mark"}.
----
{
  "facts": "father{child: \"Mary\", father: \"Mark\"}\nfather{child: \"Mary\", father: \"Mark\"}\nmatGramp{child: \"Mary\", grandfather: \"Mark\"}",
  "graph": {
    "nextNodeID": 2,
    "nodes": {
      "0": {
        "desc": {
          "type": "Join",
          "leftSide": {
            "type": "Record",
            "relation": "mother",
            "attrs": {
              "child": {
                "type": "Var",
                "name": "A"
              },
              "mother": {
                "type": "Var",
                "name": "B"
              }
            }
          },
          "rightSide": {
            "type": "Record",
            "relation": "father",
            "attrs": {
              "child": {
                "type": "Var",
                "name": "B"
              },
              "father": {
                "type": "Var",
                "name": "C"
              }
            }
          }
        },
        "cache": [
          {
            "type": "Record",
            "relation": "mother",
            "attrs": {
              "child": {
                "type": "StringLit",
                "val": "Pete"
              },
              "mother": {
                "type": "StringLit",
                "val": "Mary"
              }
            }
          },
          {
            "type": "Record",
            "relation": "father",
            "attrs": {
              "child": {
                "type": "StringLit",
                "val": "Mary"
              },
              "father": {
                "type": "StringLit",
                "val": "Mark"
              }
            }
          }
        ]
      },
      "1": {
        "desc": {
          "type": "Match",
          "rec": {
            "type": "Record",
            "relation": "matGramp",
            "attrs": {
              "child": {
                "type": "Var",
                "name": "A"
              },
              "grandfather": {
                "type": "Var",
                "name": "C"
              }
            }
          }
        },
        "cache": [
          {
            "type": "Record",
            "relation": "father",
            "attrs": {
              "child": {
                "type": "StringLit",
                "val": "Mary"
              },
              "father": {
                "type": "StringLit",
                "val": "Mark"
              }
            }
          }
        ]
      },
      "mother": {
        "desc": {
          "type": "BaseFactTable",
          "name": "mother"
        },
        "cache": [
          {
            "type": "Record",
            "relation": "mother",
            "attrs": {
              "child": {
                "type": "StringLit",
                "val": "Pete"
              },
              "mother": {
                "type": "StringLit",
                "val": "Mary"
              }
            }
          }
        ]
      },
      "father": {
        "desc": {
          "type": "BaseFactTable",
          "name": "father"
        },
        "cache": [
          {
            "type": "Record",
            "relation": "father",
            "attrs": {
              "child": {
                "type": "StringLit",
                "val": "Mary"
              },
              "father": {
                "type": "StringLit",
                "val": "Mark"
              }
            }
          }
        ]
      },
      "matGramp": {
        "desc": {
          "type": "Union"
        },
        "cache": [
          {
            "type": "Record",
            "relation": "matGramp",
            "attrs": {
              "child": {
                "type": "StringLit",
                "val": "Mary"
              },
              "grandfather": {
                "type": "StringLit",
                "val": "Mark"
              }
            }
          }
        ]
      }
    },
    "edges": {
      "0": [
        {
          "toID": "1"
        }
      ],
      "1": [
        {
          "toID": "matGramp"
        }
      ],
      "mother": [
        {
          "toID": "0",
          "joinSide": "left"
        }
      ],
      "father": [
        {
          "toID": "0",
          "joinSide": "right"
        }
      ]
    }
  }
}
