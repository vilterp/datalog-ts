.load testdata/family.dl
----
text/plain

.rulegraph
----
application/graphviz
digraph G {
  "0" [fillcolor="thistle" label="0: grandfather: Join(B: father.child = parent.parent) []" shape="box" style="filled"];
  "1" [fillcolor="thistle" label="1: grandmother: Join(B: mother.child = parent.parent) []" shape="box" style="filled"];
  "2" [fillcolor="thistle" label="2: grandparent: Join(B: parent.child = parent.parent) []" shape="box" style="filled"];
  "3" [fillcolor="moccasin" label="3: Union []" shape="box" style="filled"];
  "4" [fillcolor="thistle" label="4: parents: Join(C: father.child = mother.child) []" shape="box" style="filled"];
  "5" [fillcolor="thistle" label="5: sibling: Join(F: parents.father = parents.father & M: parents.mother = parents.mother) []" shape="box" style="filled"];
  "6" [fillcolor="darkseagreen1" label="6: L != R []" shape="box" style="filled"];
  "7" [fillcolor="thistle" label="7: cousin: Join(P1: sibling.left = parent.parent) [right]" shape="box" style="filled"];
  "8" [fillcolor="thistle" label="8: cousin: Join(P2: parent.parent = 7.right) []" shape="box" style="filled"];
  "9" [fillcolor="thistle" label="9: uncle: Join(P: brother.person = parent.parent) []" shape="box" style="filled"];
  "10" [fillcolor="thistle" label="10: aunt: Join(P: sister.person = parent.parent) []" shape="box" style="filled"];
  "11" [fillcolor="thistle" label="11: brother: Join(R: sibling.right = person.name) []" shape="box" style="filled"];
  "12" [fillcolor="thistle" label="12: sister: Join(R: sibling.right = person.name) []" shape="box" style="filled"];
  "13" [fillcolor="moccasin" label="13: Union []" shape="box" style="filled"];
  "14" [fillcolor="thistle" label="14: ancestor: Join(Y: ancestor.desc = parent.parent) []" shape="box" style="filled"];
  "person" [fillcolor="darksalmon" label="person:  [name]" shape="box" style="filled"];
  "mother" [fillcolor="darksalmon" label="mother:  [child]" shape="box" style="filled"];
  "father" [fillcolor="darksalmon" label="father:  [child]" shape="box" style="filled"];
  "grandfather" [fillcolor="lightblue" label="grandfather: Subst({grandchild: A, grandfather: C}) []" shape="box" style="filled"];
  "grandmother" [fillcolor="lightblue" label="grandmother: Subst({grandchild: A, grandmother: C}) []" shape="box" style="filled"];
  "grandparent" [fillcolor="lightblue" label="grandparent: Subst({grandchild: A, grandparent: C}) []" shape="box" style="filled"];
  "parent" [fillcolor="lightblue" label="parent: Subst({child: C, parent: P}) [parent, child]" shape="box" style="filled"];
  "parents" [fillcolor="lightblue" label="parents: Subst({child: C, father: F, mother: M}) [mother-father]" shape="box" style="filled"];
  "sibling" [fillcolor="lightblue" label="sibling: Subst({left: L, right: R}) [left, right]" shape="box" style="filled"];
  "cousin" [fillcolor="lightblue" label="cousin: Subst({left: L, right: R}) []" shape="box" style="filled"];
  "uncle" [fillcolor="lightblue" label="uncle: Subst({child: C, uncle: U}) []" shape="box" style="filled"];
  "aunt" [fillcolor="lightblue" label="aunt: Subst({aunt: U, child: C}) []" shape="box" style="filled"];
  "brother" [fillcolor="lightblue" label="brother: Subst({brother: R, person: L}) [person]" shape="box" style="filled"];
  "sister" [fillcolor="lightblue" label="sister: Subst({person: L, sister: R}) [person]" shape="box" style="filled"];
  "ancestor" [fillcolor="lightblue" label="ancestor: Subst({an: Z, desc: X}) [desc]" shape="box" style="filled"];
  "0" -> "grandfather" [];
  "1" -> "grandmother" [];
  "10" -> "aunt" [];
  "11" -> "brother" [];
  "12" -> "sister" [];
  "13" -> "ancestor" [];
  "14" -> "13" [];
  "2" -> "grandparent" [];
  "3" -> "parent" [];
  "4" -> "parents" [];
  "5" -> "6" [];
  "6" -> "sibling" [];
  "7" -> "8" [];
  "8" -> "cousin" [];
  "9" -> "uncle" [];
  "ancestor" -> "14" [];
  "brother" -> "9" [];
  "father" -> "0" [];
  "father" -> "3" [];
  "father" -> "4" [];
  "mother" -> "1" [];
  "mother" -> "3" [];
  "mother" -> "4" [];
  "parent" -> "0" [];
  "parent" -> "1" [];
  "parent" -> "2" [];
  "parent" -> "2" [];
  "parent" -> "7" [];
  "parent" -> "8" [];
  "parent" -> "9" [];
  "parent" -> "10" [];
  "parent" -> "13" [];
  "parent" -> "14" [];
  "parents" -> "5" [];
  "parents" -> "5" [];
  "person" -> "11" [];
  "person" -> "12" [];
  "sibling" -> "7" [];
  "sibling" -> "11" [];
  "sibling" -> "12" [];
  "sister" -> "10" [];
}

mother{child: "Pete", mother: "Mary"}.
----
text/plain
mother: [mother{child: "Pete", mother: "Mary"}; {}]
1: []
3: [mother{child: "Pete", mother: "Mary"}; {}]
4: []
parent: [parent{child: C, parent: P}; {}]
0: []
1: []
2: []
2: []
7: []
8: []
9: []
10: []
13: [parent{child: C, parent: P}; {}]
14: []
ancestor: [ancestor{an: Z, desc: X}; {}]
14: []
