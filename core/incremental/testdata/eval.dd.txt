.table mother
----
application/datalog

.table father
----
application/datalog

matGramp{child: A, grandfather: C} :-
  mother{child: A, mother: B} & father{child: B, father: C}.
----
application/datalog

father{child: "Mary", father: "Mark"}.
----
incremental-datalog/trace
father (BaseFactTable): [father{child: "Mary", father: "Mark"}+1]
1 (Match): [{B: "Mary", C: "Mark"}+1]
2 (Join): []

mother{child: "Pete", mother: "Mary"}.
----
incremental-datalog/trace
mother (BaseFactTable): [mother{child: "Pete", mother: "Mary"}+1]
0 (Match): [{A: "Pete", B: "Mary"}+1]
2 (Join): [{A: "Pete", B: "Mary", C: "Mark"}+1]
matGramp (Substitute): [matGramp{child: "Pete", grandfather: "Mark"}+1]
