.table need
----
application/datalog

.table worker
----
application/datalog

.table fundingSource
----
application/datalog

opportunity{worker: N, capability: C, objective: O, fundingSource: S} :-
  need{capability: C, objective: O} &
  worker{name: N, capability: C} &
  fundingSource{objective: O, source: S}.
----
application/datalog

need{capability: "write HTML", objective: "make website"}.
----
application/datalog
step{input: record{rec: need{capability: "write HTML", objective: "make website"}}, multiplicity: 1, node: "0", output: bindings{bindings: {"C": "write HTML", "O": "make website"}}, step: 1}.
step{input: record{rec: need{capability: "write HTML", objective: "make website"}}, multiplicity: 1, node: "need", output: record{rec: need{capability: "write HTML", objective: "make website"}}, step: 0}.

worker{name: "Pete", capability: "write HTML"}.
----
application/datalog
step{input: bindings{bindings: {"C": "write HTML", "N": "Pete"}}, multiplicity: 1, node: "2", output: bindings{bindings: {"C": "write HTML", "N": "Pete", "O": "make website"}}, step: 2}.
step{input: record{rec: worker{capability: "write HTML", name: "Pete"}}, multiplicity: 1, node: "1", output: bindings{bindings: {"C": "write HTML", "N": "Pete"}}, step: 1}.
step{input: record{rec: worker{capability: "write HTML", name: "Pete"}}, multiplicity: 1, node: "worker", output: record{rec: worker{capability: "write HTML", name: "Pete"}}, step: 0}.

fundingSource{objective: "make website", source: "some company"}.
----
application/datalog
step{input: bindings{bindings: {"C": "write HTML", "N": "Pete", "O": "make website", "S": "some company"}}, multiplicity: 1, node: "opportunity", output: record{rec: opportunity{capability: "write HTML", fundingSource: "some company", objective: "make website", worker: "Pete"}}, step: 3}.
step{input: bindings{bindings: {"O": "make website", "S": "some company"}}, multiplicity: 1, node: "4", output: bindings{bindings: {"C": "write HTML", "N": "Pete", "O": "make website", "S": "some company"}}, step: 2}.
step{input: record{rec: fundingSource{objective: "make website", source: "some company"}}, multiplicity: 1, node: "3", output: bindings{bindings: {"O": "make website", "S": "some company"}}, step: 1}.
step{input: record{rec: fundingSource{objective: "make website", source: "some company"}}, multiplicity: 1, node: "fundingSource", output: record{rec: fundingSource{objective: "make website", source: "some company"}}, step: 0}.
