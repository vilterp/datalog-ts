.table mother
----
application/datalog

.table father
----
application/datalog

parent{child: C, parent: P} :-
  mother{child: C, mother: P} | father{child: C, father: P}.
----
application/datalog

grandparent{grandchild: A, grandparent: C} :-
  parent{child: A, parent: B} &
  parent{child: B, parent: C}.
----
application/datalog

father{child: "Mary", father: "Mark"}.
----
application/datalog
eval.step{input: bindings{bindings: {"C": "Mary", "P": "Mark"}}, inputMult: 1, node: "0", output: bindings{bindings: {"C": "Mary", "P": "Mark"}}, outputMult: 1, step: 2}.
eval.step{input: bindings{bindings: {"C": "Mary", "P": "Mark"}}, inputMult: 1, node: "parent", output: record{rec: parent{child: "Mary", parent: "Mark"}}, outputMult: 1, step: 3}.
eval.step{input: record{rec: father{child: "Mary", father: "Mark"}}, inputMult: 1, node: "2", output: bindings{bindings: {"C": "Mary", "P": "Mark"}}, outputMult: 1, step: 1}.
eval.step{input: record{rec: father{child: "Mary", father: "Mark"}}, inputMult: 1, node: "father", output: record{rec: father{child: "Mary", father: "Mark"}}, outputMult: 1, step: 0}.
eval.step{input: record{rec: parent{child: "Mary", parent: "Mark"}}, inputMult: 1, node: "3", output: bindings{bindings: {"A": "Mary", "B": "Mark"}}, outputMult: 1, step: 4}.
eval.step{input: record{rec: parent{child: "Mary", parent: "Mark"}}, inputMult: 1, node: "4", output: bindings{bindings: {"B": "Mary", "C": "Mark"}}, outputMult: 1, step: 5}.

mother{child: "Pete", mother: "Mary"}.
----
application/datalog
eval.step{input: bindings{bindings: {"A": "Pete", "B": "Mary", "C": "Mark"}}, inputMult: 1, node: "grandparent", output: record{rec: grandparent{grandchild: "Pete", grandparent: "Mark"}}, outputMult: 1, step: 8}.
eval.step{input: bindings{bindings: {"A": "Pete", "B": "Mary"}}, inputMult: 1, node: "5", output: bindings{bindings: {"A": "Pete", "B": "Mary", "C": "Mark"}}, outputMult: 1, step: 6}.
eval.step{input: bindings{bindings: {"C": "Pete", "P": "Mary"}}, inputMult: 1, node: "0", output: bindings{bindings: {"C": "Pete", "P": "Mary"}}, outputMult: 1, step: 2}.
eval.step{input: bindings{bindings: {"C": "Pete", "P": "Mary"}}, inputMult: 1, node: "parent", output: record{rec: parent{child: "Pete", parent: "Mary"}}, outputMult: 1, step: 3}.
eval.step{input: record{rec: mother{child: "Pete", mother: "Mary"}}, inputMult: 1, node: "1", output: bindings{bindings: {"C": "Pete", "P": "Mary"}}, outputMult: 1, step: 1}.
eval.step{input: record{rec: mother{child: "Pete", mother: "Mary"}}, inputMult: 1, node: "mother", output: record{rec: mother{child: "Pete", mother: "Mary"}}, outputMult: 1, step: 0}.
eval.step{input: record{rec: parent{child: "Pete", parent: "Mary"}}, inputMult: 1, node: "3", output: bindings{bindings: {"A": "Pete", "B": "Mary"}}, outputMult: 1, step: 4}.
eval.step{input: record{rec: parent{child: "Pete", parent: "Mary"}}, inputMult: 1, node: "4", output: bindings{bindings: {"B": "Pete", "C": "Mary"}}, outputMult: 1, step: 5}.

mother{child: "Carolyn", mother: "Mary"}.
----
application/datalog
eval.step{input: bindings{bindings: {"A": "Carolyn", "B": "Mary", "C": "Mark"}}, inputMult: 1, node: "grandparent", output: record{rec: grandparent{grandchild: "Carolyn", grandparent: "Mark"}}, outputMult: 1, step: 8}.
eval.step{input: bindings{bindings: {"A": "Carolyn", "B": "Mary"}}, inputMult: 1, node: "5", output: bindings{bindings: {"A": "Carolyn", "B": "Mary", "C": "Mark"}}, outputMult: 1, step: 6}.
eval.step{input: bindings{bindings: {"C": "Carolyn", "P": "Mary"}}, inputMult: 1, node: "0", output: bindings{bindings: {"C": "Carolyn", "P": "Mary"}}, outputMult: 1, step: 2}.
eval.step{input: bindings{bindings: {"C": "Carolyn", "P": "Mary"}}, inputMult: 1, node: "parent", output: record{rec: parent{child: "Carolyn", parent: "Mary"}}, outputMult: 1, step: 3}.
eval.step{input: record{rec: mother{child: "Carolyn", mother: "Mary"}}, inputMult: 1, node: "1", output: bindings{bindings: {"C": "Carolyn", "P": "Mary"}}, outputMult: 1, step: 1}.
eval.step{input: record{rec: mother{child: "Carolyn", mother: "Mary"}}, inputMult: 1, node: "mother", output: record{rec: mother{child: "Carolyn", mother: "Mary"}}, outputMult: 1, step: 0}.
eval.step{input: record{rec: parent{child: "Carolyn", parent: "Mary"}}, inputMult: 1, node: "3", output: bindings{bindings: {"A": "Carolyn", "B": "Mary"}}, outputMult: 1, step: 4}.
eval.step{input: record{rec: parent{child: "Carolyn", parent: "Mary"}}, inputMult: 1, node: "4", output: bindings{bindings: {"B": "Carolyn", "C": "Mary"}}, outputMult: 1, step: 5}.
