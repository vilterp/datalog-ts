grandfather{grandchild: A, grandfather: C} :-
  parent{child: A, parent: B} &
  father{child: B, father: C}.
----
text/plain
function grandfather(db) {
  const _out = [];
  for (const parent_item_0 of db.tables.parent) {
    for (const father_item_1 of db.tables.father) {
      const bindings1 = unify({}, parent_item_0, father_item_1);
      if (bindings1 !== null) {
        _out.push(substitute({
          type: "Record",
          relation: "grandfather"
        }, bindings1));
      }
    }
  }
  return _out;
}

greatGrandfather{grandchild: A, grandfather: D} :-
  parent{child: A, parent: B} &
  parent{child: B, parent: C} &
  father{child: C, father: D}.
----
text/plain
function greatGrandfather(db) {
  const _out = [];
  for (const parent_item_0 of db.tables.parent) {
    for (const parent_item_1 of db.tables.parent) {
      const bindings1 = unify({}, parent_item_0, parent_item_1);
      if (bindings1 !== null) {
        for (const father_item_2 of db.tables.father) {
          const bindings2 = unify(bindings1, parent_item_1, father_item_2);
          if (bindings2 !== null) {
            _out.push(substitute({
              type: "Record",
              relation: "greatGrandfather"
            }, bindings2));
          }
        }
      }
    }
  }
  return _out;
}
