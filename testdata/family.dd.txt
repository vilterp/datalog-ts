.load testdata/family.dl
----
text/plain

father{child: X, father: Y}.
----
text/plain
father{child: "Pete", father: "Paul"}.
father{child: "Paul", father: "Peter"}.
father{child: "Ann", father: "Peter"}.
father{child: "Mary", father: "Mark"}.
father{child: "Bob", father: "John"}.
father{child: "Carolyn", father: "Paul"}.
father{child: "Henry", father: "Bob"}.

father{child: "Pete", father: F}.
----
text/plain
father{child: "Pete", father: "Paul"}.

parent{child: X, parent: Y}.
----
text/plain
parent{child: "Pete", parent: "Paul"}.
parent{child: "Paul", parent: "Peter"}.
parent{child: "Ann", parent: "Peter"}.
parent{child: "Mary", parent: "Mark"}.
parent{child: "Bob", parent: "John"}.
parent{child: "Carolyn", parent: "Paul"}.
parent{child: "Henry", parent: "Bob"}.
parent{child: "Pete", parent: "Mary"}.
parent{child: "Paul", parent: "Judith"}.
parent{child: "Ann", parent: "Judith"}.
parent{child: "Bob", parent: "Ann"}.
parent{child: "Mary", parent: "Carolyn K"}.
parent{child: "Carolyn", parent: "Mary"}.

parent{child: "Pete", parent: Y}.
----
text/plain
parent{child: "Pete", parent: "Paul"}.
parent{child: "Pete", parent: "Mary"}.

grandfather{grandchild: "Pete", grandfather: A}.
----
text/plain

grandparent{grandchild: "Pete", grandparent: X}.
----
text/plain

grandparent{grandchild: X, grandparent: Y}.
----
text/plain

sibling{left: X, right: Y}.
----
text/plain
sibling{left: "Paul", right: "Ann"}.
sibling{left: "Ann", right: "Paul"}.
sibling{left: "Pete", right: "Carolyn"}.
sibling{left: "Carolyn", right: "Pete"}.

cousin{left: X, right: Y}.
----
text/plain
cousin{left: "Pete", right: "Bob"}.
cousin{left: "Carolyn", right: "Bob"}.
cousin{left: "Bob", right: "Pete"}.
cousin{left: "Bob", right: "Carolyn"}.

aunt{child: C, aunt: X}.
----
text/plain

uncle{child: C, uncle: X}.
----
text/plain

ancestor{desc: "Pete", an: Z}.
----
text/plain
ancestor{an: "Paul", desc: "Pete"}.
ancestor{an: "Peter", desc: "Pete"}.
ancestor{an: "Mary", desc: "Pete"}.
ancestor{an: "Mark", desc: "Pete"}.
ancestor{an: "Judith", desc: "Pete"}.
ancestor{an: "Carolyn K", desc: "Pete"}.

ancestor{desc: X, an: "Peter"}.
----
text/plain
ancestor{an: "Peter", desc: "Paul"}.
ancestor{an: "Peter", desc: "Pete"}.
ancestor{an: "Peter", desc: "Ann"}.
ancestor{an: "Peter", desc: "Carolyn"}.
ancestor{an: "Peter", desc: "Bob"}.
ancestor{an: "Peter", desc: "Henry"}.

ancestor{desc: X, an: Y}.
----
text/plain
ancestor{an: "Paul", desc: "Pete"}.
ancestor{an: "Peter", desc: "Paul"}.
ancestor{an: "Peter", desc: "Pete"}.
ancestor{an: "Peter", desc: "Ann"}.
ancestor{an: "Mark", desc: "Mary"}.
ancestor{an: "John", desc: "Bob"}.
ancestor{an: "Paul", desc: "Carolyn"}.
ancestor{an: "Peter", desc: "Carolyn"}.
ancestor{an: "Bob", desc: "Henry"}.
ancestor{an: "John", desc: "Henry"}.
ancestor{an: "Mary", desc: "Pete"}.
ancestor{an: "Mark", desc: "Pete"}.
ancestor{an: "Judith", desc: "Paul"}.
ancestor{an: "Judith", desc: "Pete"}.
ancestor{an: "Judith", desc: "Carolyn"}.
ancestor{an: "Judith", desc: "Ann"}.
ancestor{an: "Ann", desc: "Bob"}.
ancestor{an: "Ann", desc: "Henry"}.
ancestor{an: "Peter", desc: "Bob"}.
ancestor{an: "Judith", desc: "Bob"}.
ancestor{an: "Peter", desc: "Henry"}.
ancestor{an: "Judith", desc: "Henry"}.
ancestor{an: "Carolyn K", desc: "Mary"}.
ancestor{an: "Carolyn K", desc: "Pete"}.
ancestor{an: "Mary", desc: "Carolyn"}.
ancestor{an: "Mark", desc: "Carolyn"}.
ancestor{an: "Carolyn K", desc: "Carolyn"}.

.rulegraph
----
text/plain
digraph G {
  "0" [label="0: Match(father{child: B, father: C}; {})" shape="box"];
  "1" [label="1: Match(parent{child: A, parent: B}; {C: A, P: B})" shape="box"];
  "10" [label="10: Match(mother{child: C, mother: P}; {})" shape="box"]; // cache: [mother{child: "Pete", mother: "Mary"}; {C: "Pete", P: "Mary"}, mother{child: "Paul", mother: "Judith"}; {C: "Paul", P: "Judith"}, mother{child: "Ann", mother: "Judith"}; {C: "Ann", P: "Judith"}, mother{child: "Bob", mother: "Ann"}; {C: "Bob", P: "Ann"}, mother{child: "Mary", mother: "Carolyn K"}; {C: "Mary", P: "Carolyn K"}, mother{child: "Carolyn", mother: "Mary"}; {C: "Carolyn", P: "Mary"}]
  "11" [label="11: Match(father{child: C, father: P}; {})" shape="box"]; // cache: [father{child: "Pete", father: "Paul"}; {C: "Pete", P: "Paul"}, father{child: "Paul", father: "Peter"}; {C: "Paul", P: "Peter"}, father{child: "Ann", father: "Peter"}; {C: "Ann", P: "Peter"}, father{child: "Mary", father: "Mark"}; {C: "Mary", P: "Mark"}, father{child: "Bob", father: "John"}; {C: "Bob", P: "John"}, father{child: "Carolyn", father: "Paul"}; {C: "Carolyn", P: "Paul"}, father{child: "Henry", father: "Bob"}; {C: "Henry", P: "Bob"}]
  "12" [label="12: Match(father{child: C, father: F}; {})" shape="box"]; // cache: [father{child: "Pete", father: "Paul"}; {C: "Pete", F: "Paul"}, father{child: "Paul", father: "Peter"}; {C: "Paul", F: "Peter"}, father{child: "Ann", father: "Peter"}; {C: "Ann", F: "Peter"}, father{child: "Mary", father: "Mark"}; {C: "Mary", F: "Mark"}, father{child: "Bob", father: "John"}; {C: "Bob", F: "John"}, father{child: "Carolyn", father: "Paul"}; {C: "Carolyn", F: "Paul"}, father{child: "Henry", father: "Bob"}; {C: "Henry", F: "Bob"}]
  "13" [label="13: Match(mother{child: C, mother: M}; {})" shape="box"]; // cache: [mother{child: "Pete", mother: "Mary"}; {C: "Pete", M: "Mary"}, mother{child: "Paul", mother: "Judith"}; {C: "Paul", M: "Judith"}, mother{child: "Ann", mother: "Judith"}; {C: "Ann", M: "Judith"}, mother{child: "Bob", mother: "Ann"}; {C: "Bob", M: "Ann"}, mother{child: "Mary", mother: "Carolyn K"}; {C: "Mary", M: "Carolyn K"}, mother{child: "Carolyn", mother: "Mary"}; {C: "Carolyn", M: "Mary"}]
  "14" [label="14: Join(13 & 12)" shape="box"]; // cache: [father{child: "Pete", father: "Paul"}; {C: "Pete", F: "Paul", M: "Mary"}, father{child: "Paul", father: "Peter"}; {C: "Paul", F: "Peter", M: "Judith"}, father{child: "Ann", father: "Peter"}; {C: "Ann", F: "Peter", M: "Judith"}, father{child: "Mary", father: "Mark"}; {C: "Mary", F: "Mark", M: "Carolyn K"}, father{child: "Bob", father: "John"}; {C: "Bob", F: "John", M: "Ann"}, father{child: "Carolyn", father: "Paul"}; {C: "Carolyn", F: "Paul", M: "Mary"}]
  "15" [label="15: Match(parents{child: R, father: F, mother: M}; {C: R, F: F, M: M})" shape="box"]; // cache: [parents{child: "Pete", father: "Paul", mother: "Mary"}; {F: "Paul", M: "Mary", R: "Pete"}, parents{child: "Paul", father: "Peter", mother: "Judith"}; {F: "Peter", M: "Judith", R: "Paul"}, parents{child: "Ann", father: "Peter", mother: "Judith"}; {F: "Peter", M: "Judith", R: "Ann"}, parents{child: "Mary", father: "Mark", mother: "Carolyn K"}; {F: "Mark", M: "Carolyn K", R: "Mary"}, parents{child: "Bob", father: "John", mother: "Ann"}; {F: "John", M: "Ann", R: "Bob"}, parents{child: "Carolyn", father: "Paul", mother: "Mary"}; {F: "Paul", M: "Mary", R: "Carolyn"}]
  "16" [label="16: Match(parents{child: L, father: F, mother: M}; {C: L, F: F, M: M})" shape="box"]; // cache: [parents{child: "Pete", father: "Paul", mother: "Mary"}; {F: "Paul", L: "Pete", M: "Mary"}, parents{child: "Paul", father: "Peter", mother: "Judith"}; {F: "Peter", L: "Paul", M: "Judith"}, parents{child: "Ann", father: "Peter", mother: "Judith"}; {F: "Peter", L: "Ann", M: "Judith"}, parents{child: "Mary", father: "Mark", mother: "Carolyn K"}; {F: "Mark", L: "Mary", M: "Carolyn K"}, parents{child: "Bob", father: "John", mother: "Ann"}; {F: "John", L: "Bob", M: "Ann"}, parents{child: "Carolyn", father: "Paul", mother: "Mary"}; {F: "Paul", L: "Carolyn", M: "Mary"}]
  "17" [label="17: Join(16 & 15)" shape="box"]; // cache: [parents{child: "Pete", father: "Paul", mother: "Mary"}; {F: "Paul", L: "Pete", M: "Mary", R: "Pete"}, parents{child: "Paul", father: "Peter", mother: "Judith"}; {F: "Peter", L: "Paul", M: "Judith", R: "Paul"}, parents{child: "Ann", father: "Peter", mother: "Judith"}; {F: "Peter", L: "Paul", M: "Judith", R: "Ann"}, parents{child: "Ann", father: "Peter", mother: "Judith"}; {F: "Peter", L: "Ann", M: "Judith", R: "Paul"}, parents{child: "Ann", father: "Peter", mother: "Judith"}; {F: "Peter", L: "Ann", M: "Judith", R: "Ann"}, parents{child: "Mary", father: "Mark", mother: "Carolyn K"}; {F: "Mark", L: "Mary", M: "Carolyn K", R: "Mary"}, parents{child: "Bob", father: "John", mother: "Ann"}; {F: "John", L: "Bob", M: "Ann", R: "Bob"}, parents{child: "Carolyn", father: "Paul", mother: "Mary"}; {F: "Paul", L: "Pete", M: "Mary", R: "Carolyn"}, parents{child: "Carolyn", father: "Paul", mother: "Mary"}; {F: "Paul", L: "Carolyn", M: "Mary", R: "Pete"}, parents{child: "Carolyn", father: "Paul", mother: "Mary"}; {F: "Paul", L: "Carolyn", M: "Mary", R: "Carolyn"}]
  "18" [label="18: L != R" shape="box"]; // cache: [parents{child: "Ann", father: "Peter", mother: "Judith"}; {F: "Peter", L: "Paul", M: "Judith", R: "Ann"}, parents{child: "Ann", father: "Peter", mother: "Judith"}; {F: "Peter", L: "Ann", M: "Judith", R: "Paul"}, parents{child: "Carolyn", father: "Paul", mother: "Mary"}; {F: "Paul", L: "Pete", M: "Mary", R: "Carolyn"}, parents{child: "Carolyn", father: "Paul", mother: "Mary"}; {F: "Paul", L: "Carolyn", M: "Mary", R: "Pete"}]
  "19" [label="19: Match(parent{child: R, parent: P2}; {C: R, P: P2})" shape="box"]; // cache: [parent{child: "Pete", parent: "Paul"}; {P2: "Paul", R: "Pete"}, parent{child: "Paul", parent: "Peter"}; {P2: "Peter", R: "Paul"}, parent{child: "Ann", parent: "Peter"}; {P2: "Peter", R: "Ann"}, parent{child: "Mary", parent: "Mark"}; {P2: "Mark", R: "Mary"}, parent{child: "Bob", parent: "John"}; {P2: "John", R: "Bob"}, parent{child: "Carolyn", parent: "Paul"}; {P2: "Paul", R: "Carolyn"}, parent{child: "Henry", parent: "Bob"}; {P2: "Bob", R: "Henry"}, parent{child: "Pete", parent: "Mary"}; {P2: "Mary", R: "Pete"}, parent{child: "Paul", parent: "Judith"}; {P2: "Judith", R: "Paul"}, parent{child: "Ann", parent: "Judith"}; {P2: "Judith", R: "Ann"}, parent{child: "Bob", parent: "Ann"}; {P2: "Ann", R: "Bob"}, parent{child: "Mary", parent: "Carolyn K"}; {P2: "Carolyn K", R: "Mary"}, parent{child: "Carolyn", parent: "Mary"}; {P2: "Mary", R: "Carolyn"}]
  "2" [label="2: Join(1 & 0)" shape="box"];
  "20" [label="20: Match(sibling{left: P1, right: P2}; {L: P1, R: P2})" shape="box"]; // cache: [sibling{left: "Paul", right: "Ann"}; {P1: "Paul", P2: "Ann"}, sibling{left: "Ann", right: "Paul"}; {P1: "Ann", P2: "Paul"}, sibling{left: "Pete", right: "Carolyn"}; {P1: "Pete", P2: "Carolyn"}, sibling{left: "Carolyn", right: "Pete"}; {P1: "Carolyn", P2: "Pete"}]
  "21" [label="21: Join(20 & 19)" shape="box"]; // cache: [sibling{left: "Paul", right: "Ann"}; {P1: "Paul", P2: "Ann", R: "Bob"}, sibling{left: "Ann", right: "Paul"}; {P1: "Ann", P2: "Paul", R: "Pete"}, sibling{left: "Ann", right: "Paul"}; {P1: "Ann", P2: "Paul", R: "Carolyn"}]
  "22" [label="22: Match(parent{child: L, parent: P1}; {C: L, P: P1})" shape="box"]; // cache: [parent{child: "Pete", parent: "Paul"}; {L: "Pete", P1: "Paul"}, parent{child: "Paul", parent: "Peter"}; {L: "Paul", P1: "Peter"}, parent{child: "Ann", parent: "Peter"}; {L: "Ann", P1: "Peter"}, parent{child: "Mary", parent: "Mark"}; {L: "Mary", P1: "Mark"}, parent{child: "Bob", parent: "John"}; {L: "Bob", P1: "John"}, parent{child: "Carolyn", parent: "Paul"}; {L: "Carolyn", P1: "Paul"}, parent{child: "Henry", parent: "Bob"}; {L: "Henry", P1: "Bob"}, parent{child: "Pete", parent: "Mary"}; {L: "Pete", P1: "Mary"}, parent{child: "Paul", parent: "Judith"}; {L: "Paul", P1: "Judith"}, parent{child: "Ann", parent: "Judith"}; {L: "Ann", P1: "Judith"}, parent{child: "Bob", parent: "Ann"}; {L: "Bob", P1: "Ann"}, parent{child: "Mary", parent: "Carolyn K"}; {L: "Mary", P1: "Carolyn K"}, parent{child: "Carolyn", parent: "Mary"}; {L: "Carolyn", P1: "Mary"}]
  "23" [label="23: Join(22 & 21)" shape="box"]; // cache: [sibling{left: "Paul", right: "Ann"}; {L: "Pete", P1: "Paul", P2: "Ann", R: "Bob"}, sibling{left: "Paul", right: "Ann"}; {L: "Carolyn", P1: "Paul", P2: "Ann", R: "Bob"}, sibling{left: "Ann", right: "Paul"}; {L: "Bob", P1: "Ann", P2: "Paul", R: "Pete"}, sibling{left: "Ann", right: "Paul"}; {L: "Bob", P1: "Ann", P2: "Paul", R: "Carolyn"}]
  "24" [label="24: Match(brother{brother: U, person: P}; {L: P, R: U})" shape="box"];
  "25" [label="25: Match(parent{child: C, parent: P}; {C: C, P: P})" shape="box"];
  "26" [label="26: Join(25 & 24)" shape="box"];
  "27" [label="27: Match(sister{person: P, sister: U}; {L: P, R: U})" shape="box"];
  "28" [label="28: Match(parent{child: C, parent: P}; {C: C, P: P})" shape="box"];
  "29" [label="29: Join(28 & 27)" shape="box"];
  "3" [label="3: Match(mother{child: B, mother: C}; {})" shape="box"];
  "30" [label="30: Match(sibling{left: L, right: R}; {L: L, R: R})" shape="box"];
  "31" [label="31: Match(person{gender: \"Male\", name: R}; {})" shape="box"];
  "32" [label="32: Join(31 & 30)" shape="box"];
  "33" [label="33: Match(sibling{left: L, right: R}; {L: L, R: R})" shape="box"]; // cache: [sibling{left: "Paul", right: "Ann"}; {L: "Paul", R: "Ann"}, sibling{left: "Ann", right: "Paul"}; {L: "Ann", R: "Paul"}, sibling{left: "Pete", right: "Carolyn"}; {L: "Pete", R: "Carolyn"}, sibling{left: "Carolyn", right: "Pete"}; {L: "Carolyn", R: "Pete"}]
  "34" [label="34: Match(person{gender: \"Female\", name: R}; {})" shape="box"]; // cache: [person{gender: "Male", name: "Paul"}; {}, person{gender: "Female", name: "Ann"}; {R: "Ann"}]
  "35" [label="35: Join(34 & 33)" shape="box"]; // cache: [sibling{left: "Paul", right: "Ann"}; {L: "Paul", R: "Ann"}, sibling{left: "Paul", right: "Ann"}; {L: "Paul", R: "Ann"}, sibling{left: "Ann", right: "Paul"}; {L: "Ann", R: "Paul"}, sibling{left: "Pete", right: "Carolyn"}; {L: "Pete", R: "Carolyn"}, sibling{left: "Carolyn", right: "Pete"}; {L: "Carolyn", R: "Pete"}]
  "36" [label="36: Union" shape="box"]; // cache: [parent{child: "Pete", parent: "Paul"}; {X: "Pete", Z: "Paul"}, parent{child: "Paul", parent: "Peter"}; {X: "Paul", Z: "Peter"}, ancestor{an: "Peter", desc: "Paul"}; {X: "Pete", Y: "Paul", Z: "Peter"}, parent{child: "Ann", parent: "Peter"}; {X: "Ann", Z: "Peter"}, parent{child: "Mary", parent: "Mark"}; {X: "Mary", Z: "Mark"}, parent{child: "Bob", parent: "John"}; {X: "Bob", Z: "John"}, parent{child: "Carolyn", parent: "Paul"}; {X: "Carolyn", Z: "Paul"}, parent{child: "Carolyn", parent: "Paul"}; {X: "Carolyn", Y: "Paul", Z: "Peter"}, parent{child: "Henry", parent: "Bob"}; {X: "Henry", Z: "Bob"}, parent{child: "Henry", parent: "Bob"}; {X: "Henry", Y: "Bob", Z: "John"}, parent{child: "Pete", parent: "Mary"}; {X: "Pete", Z: "Mary"}, parent{child: "Pete", parent: "Mary"}; {X: "Pete", Y: "Mary", Z: "Mark"}, parent{child: "Paul", parent: "Judith"}; {X: "Paul", Z: "Judith"}, ancestor{an: "Judith", desc: "Paul"}; {X: "Pete", Y: "Paul", Z: "Judith"}, ancestor{an: "Judith", desc: "Paul"}; {X: "Carolyn", Y: "Paul", Z: "Judith"}, parent{child: "Ann", parent: "Judith"}; {X: "Ann", Z: "Judith"}, parent{child: "Bob", parent: "Ann"}; {X: "Bob", Z: "Ann"}, ancestor{an: "Ann", desc: "Bob"}; {X: "Henry", Y: "Bob", Z: "Ann"}, parent{child: "Bob", parent: "Ann"}; {X: "Bob", Y: "Ann", Z: "Peter"}, parent{child: "Bob", parent: "Ann"}; {X: "Bob", Y: "Ann", Z: "Judith"}, ancestor{an: "Peter", desc: "Bob"}; {X: "Henry", Y: "Bob", Z: "Peter"}, ancestor{an: "Judith", desc: "Bob"}; {X: "Henry", Y: "Bob", Z: "Judith"}, parent{child: "Mary", parent: "Carolyn K"}; {X: "Mary", Z: "Carolyn K"}, ancestor{an: "Carolyn K", desc: "Mary"}; {X: "Pete", Y: "Mary", Z: "Carolyn K"}, parent{child: "Carolyn", parent: "Mary"}; {X: "Carolyn", Z: "Mary"}, parent{child: "Carolyn", parent: "Mary"}; {X: "Carolyn", Y: "Mary", Z: "Mark"}, parent{child: "Carolyn", parent: "Mary"}; {X: "Carolyn", Y: "Mary", Z: "Carolyn K"}]
  "37" [label="37: Match(parent{child: X, parent: Z}; {C: X, P: Z})" shape="box"]; // cache: [parent{child: "Pete", parent: "Paul"}; {X: "Pete", Z: "Paul"}, parent{child: "Paul", parent: "Peter"}; {X: "Paul", Z: "Peter"}, parent{child: "Ann", parent: "Peter"}; {X: "Ann", Z: "Peter"}, parent{child: "Mary", parent: "Mark"}; {X: "Mary", Z: "Mark"}, parent{child: "Bob", parent: "John"}; {X: "Bob", Z: "John"}, parent{child: "Carolyn", parent: "Paul"}; {X: "Carolyn", Z: "Paul"}, parent{child: "Henry", parent: "Bob"}; {X: "Henry", Z: "Bob"}, parent{child: "Pete", parent: "Mary"}; {X: "Pete", Z: "Mary"}, parent{child: "Paul", parent: "Judith"}; {X: "Paul", Z: "Judith"}, parent{child: "Ann", parent: "Judith"}; {X: "Ann", Z: "Judith"}, parent{child: "Bob", parent: "Ann"}; {X: "Bob", Z: "Ann"}, parent{child: "Mary", parent: "Carolyn K"}; {X: "Mary", Z: "Carolyn K"}, parent{child: "Carolyn", parent: "Mary"}; {X: "Carolyn", Z: "Mary"}]
  "38" [label="38: Match(ancestor{an: Z, desc: Y}; {X: Y, Z: Z})" shape="box"]; // cache: [ancestor{an: "Paul", desc: "Pete"}; {Y: "Pete", Z: "Paul"}, ancestor{an: "Peter", desc: "Paul"}; {Y: "Paul", Z: "Peter"}, ancestor{an: "Peter", desc: "Pete"}; {Y: "Pete", Z: "Peter"}, ancestor{an: "Peter", desc: "Ann"}; {Y: "Ann", Z: "Peter"}, ancestor{an: "Mark", desc: "Mary"}; {Y: "Mary", Z: "Mark"}, ancestor{an: "John", desc: "Bob"}; {Y: "Bob", Z: "John"}, ancestor{an: "Paul", desc: "Carolyn"}; {Y: "Carolyn", Z: "Paul"}, ancestor{an: "Peter", desc: "Carolyn"}; {Y: "Carolyn", Z: "Peter"}, ancestor{an: "Bob", desc: "Henry"}; {Y: "Henry", Z: "Bob"}, ancestor{an: "John", desc: "Henry"}; {Y: "Henry", Z: "John"}, ancestor{an: "Mary", desc: "Pete"}; {Y: "Pete", Z: "Mary"}, ancestor{an: "Mark", desc: "Pete"}; {Y: "Pete", Z: "Mark"}, ancestor{an: "Judith", desc: "Paul"}; {Y: "Paul", Z: "Judith"}, ancestor{an: "Judith", desc: "Pete"}; {Y: "Pete", Z: "Judith"}, ancestor{an: "Judith", desc: "Carolyn"}; {Y: "Carolyn", Z: "Judith"}, ancestor{an: "Judith", desc: "Ann"}; {Y: "Ann", Z: "Judith"}, ancestor{an: "Ann", desc: "Bob"}; {Y: "Bob", Z: "Ann"}, ancestor{an: "Ann", desc: "Henry"}; {Y: "Henry", Z: "Ann"}, ancestor{an: "Peter", desc: "Bob"}; {Y: "Bob", Z: "Peter"}, ancestor{an: "Judith", desc: "Bob"}; {Y: "Bob", Z: "Judith"}, ancestor{an: "Peter", desc: "Henry"}; {Y: "Henry", Z: "Peter"}, ancestor{an: "Judith", desc: "Henry"}; {Y: "Henry", Z: "Judith"}, ancestor{an: "Carolyn K", desc: "Mary"}; {Y: "Mary", Z: "Carolyn K"}, ancestor{an: "Carolyn K", desc: "Pete"}; {Y: "Pete", Z: "Carolyn K"}, ancestor{an: "Mary", desc: "Carolyn"}; {Y: "Carolyn", Z: "Mary"}, ancestor{an: "Mark", desc: "Carolyn"}; {Y: "Carolyn", Z: "Mark"}, ancestor{an: "Carolyn K", desc: "Carolyn"}; {Y: "Carolyn", Z: "Carolyn K"}]
  "39" [label="39: Match(parent{child: X, parent: Y}; {C: X, P: Y})" shape="box"]; // cache: [parent{child: "Pete", parent: "Paul"}; {X: "Pete", Y: "Paul"}, parent{child: "Paul", parent: "Peter"}; {X: "Paul", Y: "Peter"}, parent{child: "Ann", parent: "Peter"}; {X: "Ann", Y: "Peter"}, parent{child: "Mary", parent: "Mark"}; {X: "Mary", Y: "Mark"}, parent{child: "Bob", parent: "John"}; {X: "Bob", Y: "John"}, parent{child: "Carolyn", parent: "Paul"}; {X: "Carolyn", Y: "Paul"}, parent{child: "Henry", parent: "Bob"}; {X: "Henry", Y: "Bob"}, parent{child: "Pete", parent: "Mary"}; {X: "Pete", Y: "Mary"}, parent{child: "Paul", parent: "Judith"}; {X: "Paul", Y: "Judith"}, parent{child: "Ann", parent: "Judith"}; {X: "Ann", Y: "Judith"}, parent{child: "Bob", parent: "Ann"}; {X: "Bob", Y: "Ann"}, parent{child: "Mary", parent: "Carolyn K"}; {X: "Mary", Y: "Carolyn K"}, parent{child: "Carolyn", parent: "Mary"}; {X: "Carolyn", Y: "Mary"}]
  "4" [label="4: Match(parent{child: A, parent: B}; {C: A, P: B})" shape="box"];
  "40" [label="40: Join(39 & 38)" shape="box"]; // cache: [ancestor{an: "Peter", desc: "Paul"}; {X: "Pete", Y: "Paul", Z: "Peter"}, parent{child: "Carolyn", parent: "Paul"}; {X: "Carolyn", Y: "Paul", Z: "Peter"}, parent{child: "Henry", parent: "Bob"}; {X: "Henry", Y: "Bob", Z: "John"}, parent{child: "Pete", parent: "Mary"}; {X: "Pete", Y: "Mary", Z: "Mark"}, ancestor{an: "Judith", desc: "Paul"}; {X: "Pete", Y: "Paul", Z: "Judith"}, ancestor{an: "Judith", desc: "Paul"}; {X: "Carolyn", Y: "Paul", Z: "Judith"}, ancestor{an: "Ann", desc: "Bob"}; {X: "Henry", Y: "Bob", Z: "Ann"}, parent{child: "Bob", parent: "Ann"}; {X: "Bob", Y: "Ann", Z: "Peter"}, parent{child: "Bob", parent: "Ann"}; {X: "Bob", Y: "Ann", Z: "Judith"}, ancestor{an: "Peter", desc: "Bob"}; {X: "Henry", Y: "Bob", Z: "Peter"}, ancestor{an: "Judith", desc: "Bob"}; {X: "Henry", Y: "Bob", Z: "Judith"}, ancestor{an: "Carolyn K", desc: "Mary"}; {X: "Pete", Y: "Mary", Z: "Carolyn K"}, parent{child: "Carolyn", parent: "Mary"}; {X: "Carolyn", Y: "Mary", Z: "Mark"}, parent{child: "Carolyn", parent: "Mary"}; {X: "Carolyn", Y: "Mary", Z: "Carolyn K"}]
  "41" [label="41: Match(mother{child: C, mother: M}; {})" shape="box"]; // cache: [mother{child: "Pete", mother: "Mary"}; {C: "Pete", M: "Mary"}, mother{child: "Paul", mother: "Judith"}; {C: "Paul", M: "Judith"}, mother{child: "Ann", mother: "Judith"}; {C: "Ann", M: "Judith"}, mother{child: "Bob", mother: "Ann"}; {C: "Bob", M: "Ann"}, mother{child: "Mary", mother: "Carolyn K"}; {C: "Mary", M: "Carolyn K"}, mother{child: "Carolyn", mother: "Mary"}; {C: "Carolyn", M: "Mary"}]
  "42" [label="42: Match(father{child: C, father: F}; {})" shape="box"]; // cache: [father{child: "Pete", father: "Paul"}; {C: "Pete", F: "Paul"}, father{child: "Paul", father: "Peter"}; {C: "Paul", F: "Peter"}, father{child: "Ann", father: "Peter"}; {C: "Ann", F: "Peter"}, father{child: "Mary", father: "Mark"}; {C: "Mary", F: "Mark"}, father{child: "Bob", father: "John"}; {C: "Bob", F: "John"}, father{child: "Carolyn", father: "Paul"}; {C: "Carolyn", F: "Paul"}, father{child: "Henry", father: "Bob"}; {C: "Henry", F: "Bob"}]
  "43" [label="43: Match(grandparent{grandchild: A, grandparent: B}; {A: A, C: B})" shape="box"];
  "44" [label="44: Match(sibling{left: A, right: B}; {L: A, R: B})" shape="box"]; // cache: [sibling{left: "Paul", right: "Ann"}; {A: "Paul", B: "Ann"}, sibling{left: "Ann", right: "Paul"}; {A: "Ann", B: "Paul"}, sibling{left: "Pete", right: "Carolyn"}; {A: "Pete", B: "Carolyn"}, sibling{left: "Carolyn", right: "Pete"}; {A: "Carolyn", B: "Pete"}]
  "45" [label="45: Match(cousin{left: A, right: B}; {L: A, R: B})" shape="box"]; // cache: [cousin{left: "Pete", right: "Bob"}; {A: "Pete", B: "Bob"}, cousin{left: "Carolyn", right: "Bob"}; {A: "Carolyn", B: "Bob"}, cousin{left: "Bob", right: "Pete"}; {A: "Bob", B: "Pete"}, cousin{left: "Bob", right: "Carolyn"}; {A: "Bob", B: "Carolyn"}]
  "46" [label="46: Union" shape="box"]; // cache: [edge_m{from: "Pete", label: "mother", to: "Mary"}; {F: "Pete", L: "mother", T: "Mary"}, edge_m{from: "Paul", label: "mother", to: "Judith"}; {F: "Paul", L: "mother", T: "Judith"}, edge_m{from: "Ann", label: "mother", to: "Judith"}; {F: "Ann", L: "mother", T: "Judith"}, edge_m{from: "Bob", label: "mother", to: "Ann"}; {F: "Bob", L: "mother", T: "Ann"}, edge_m{from: "Mary", label: "mother", to: "Carolyn K"}; {F: "Mary", L: "mother", T: "Carolyn K"}, edge_m{from: "Carolyn", label: "mother", to: "Mary"}; {F: "Carolyn", L: "mother", T: "Mary"}, edge_f{from: "Pete", label: "father", to: "Paul"}; {F: "Pete", L: "father", T: "Paul"}, edge_f{from: "Paul", label: "father", to: "Peter"}; {F: "Paul", L: "father", T: "Peter"}, edge_f{from: "Ann", label: "father", to: "Peter"}; {F: "Ann", L: "father", T: "Peter"}, edge_f{from: "Mary", label: "father", to: "Mark"}; {F: "Mary", L: "father", T: "Mark"}, edge_f{from: "Bob", label: "father", to: "John"}; {F: "Bob", L: "father", T: "John"}, edge_f{from: "Carolyn", label: "father", to: "Paul"}; {F: "Carolyn", L: "father", T: "Paul"}, edge_f{from: "Henry", label: "father", to: "Bob"}; {F: "Henry", L: "father", T: "Bob"}, edge_sibling{from: "Paul", label: "sibling", to: "Ann"}; {F: "Paul", L: "sibling", T: "Ann"}, edge_sibling{from: "Ann", label: "sibling", to: "Paul"}; {F: "Ann", L: "sibling", T: "Paul"}, edge_sibling{from: "Pete", label: "sibling", to: "Carolyn"}; {F: "Pete", L: "sibling", T: "Carolyn"}, edge_sibling{from: "Carolyn", label: "sibling", to: "Pete"}; {F: "Carolyn", L: "sibling", T: "Pete"}, edge_cousin{from: "Pete", label: "cousin", to: "Bob"}; {F: "Pete", L: "cousin", T: "Bob"}, edge_cousin{from: "Carolyn", label: "cousin", to: "Bob"}; {F: "Carolyn", L: "cousin", T: "Bob"}, edge_cousin{from: "Bob", label: "cousin", to: "Pete"}; {F: "Bob", L: "cousin", T: "Pete"}, edge_cousin{from: "Bob", label: "cousin", to: "Carolyn"}; {F: "Bob", L: "cousin", T: "Carolyn"}]
  "47" [label="47: Match(edge_m{from: F, label: L, to: T}; {C: F, M: T})" shape="box"]; // cache: [edge_m{from: "Pete", label: "mother", to: "Mary"}; {F: "Pete", L: "mother", T: "Mary"}, edge_m{from: "Paul", label: "mother", to: "Judith"}; {F: "Paul", L: "mother", T: "Judith"}, edge_m{from: "Ann", label: "mother", to: "Judith"}; {F: "Ann", L: "mother", T: "Judith"}, edge_m{from: "Bob", label: "mother", to: "Ann"}; {F: "Bob", L: "mother", T: "Ann"}, edge_m{from: "Mary", label: "mother", to: "Carolyn K"}; {F: "Mary", L: "mother", T: "Carolyn K"}, edge_m{from: "Carolyn", label: "mother", to: "Mary"}; {F: "Carolyn", L: "mother", T: "Mary"}]
  "48" [label="48: Match(edge_f{from: F, label: L, to: T}; {C: F, F: T})" shape="box"]; // cache: [edge_f{from: "Pete", label: "father", to: "Paul"}; {F: "Pete", L: "father", T: "Paul"}, edge_f{from: "Paul", label: "father", to: "Peter"}; {F: "Paul", L: "father", T: "Peter"}, edge_f{from: "Ann", label: "father", to: "Peter"}; {F: "Ann", L: "father", T: "Peter"}, edge_f{from: "Mary", label: "father", to: "Mark"}; {F: "Mary", L: "father", T: "Mark"}, edge_f{from: "Bob", label: "father", to: "John"}; {F: "Bob", L: "father", T: "John"}, edge_f{from: "Carolyn", label: "father", to: "Paul"}; {F: "Carolyn", L: "father", T: "Paul"}, edge_f{from: "Henry", label: "father", to: "Bob"}; {F: "Henry", L: "father", T: "Bob"}]
  "49" [label="49: Match(edge_gp{from: F, label: L, to: T}; {A: F, B: T})" shape="box"];
  "5" [label="5: Join(4 & 3)" shape="box"];
  "50" [label="50: Match(edge_sibling{from: F, label: L, to: T}; {A: F, B: T})" shape="box"]; // cache: [edge_sibling{from: "Paul", label: "sibling", to: "Ann"}; {F: "Paul", L: "sibling", T: "Ann"}, edge_sibling{from: "Ann", label: "sibling", to: "Paul"}; {F: "Ann", L: "sibling", T: "Paul"}, edge_sibling{from: "Pete", label: "sibling", to: "Carolyn"}; {F: "Pete", L: "sibling", T: "Carolyn"}, edge_sibling{from: "Carolyn", label: "sibling", to: "Pete"}; {F: "Carolyn", L: "sibling", T: "Pete"}]
  "51" [label="51: Match(edge_cousin{from: F, label: L, to: T}; {A: F, B: T})" shape="box"]; // cache: [edge_cousin{from: "Pete", label: "cousin", to: "Bob"}; {F: "Pete", L: "cousin", T: "Bob"}, edge_cousin{from: "Carolyn", label: "cousin", to: "Bob"}; {F: "Carolyn", L: "cousin", T: "Bob"}, edge_cousin{from: "Bob", label: "cousin", to: "Pete"}; {F: "Bob", L: "cousin", T: "Pete"}, edge_cousin{from: "Bob", label: "cousin", to: "Carolyn"}; {F: "Bob", L: "cousin", T: "Carolyn"}]
  "52" [label="52: Match(mother{child: C}; {})" shape="box"]; // cache: [mother{child: "Pete", mother: "Mary"}; {C: "Pete"}, mother{child: "Paul", mother: "Judith"}; {C: "Paul"}, mother{child: "Ann", mother: "Judith"}; {C: "Ann"}, mother{child: "Bob", mother: "Ann"}; {C: "Bob"}, mother{child: "Mary", mother: "Carolyn K"}; {C: "Mary"}, mother{child: "Carolyn", mother: "Mary"}; {C: "Carolyn"}]
  "53" [label="53: Match(mother{mother: C}; {})" shape="box"]; // cache: [mother{child: "Pete", mother: "Mary"}; {C: "Mary"}, mother{child: "Paul", mother: "Judith"}; {C: "Judith"}, mother{child: "Ann", mother: "Judith"}; {C: "Judith"}, mother{child: "Bob", mother: "Ann"}; {C: "Ann"}, mother{child: "Mary", mother: "Carolyn K"}; {C: "Carolyn K"}, mother{child: "Carolyn", mother: "Mary"}; {C: "Mary"}]
  "54" [label="54: Match(father{child: C}; {})" shape="box"]; // cache: [father{child: "Pete", father: "Paul"}; {C: "Pete"}, father{child: "Paul", father: "Peter"}; {C: "Paul"}, father{child: "Ann", father: "Peter"}; {C: "Ann"}, father{child: "Mary", father: "Mark"}; {C: "Mary"}, father{child: "Bob", father: "John"}; {C: "Bob"}, father{child: "Carolyn", father: "Paul"}; {C: "Carolyn"}, father{child: "Henry", father: "Bob"}; {C: "Henry"}]
  "55" [label="55: Match(father{father: C}; {})" shape="box"]; // cache: [father{child: "Pete", father: "Paul"}; {C: "Paul"}, father{child: "Paul", father: "Peter"}; {C: "Peter"}, father{child: "Ann", father: "Peter"}; {C: "Peter"}, father{child: "Mary", father: "Mark"}; {C: "Mark"}, father{child: "Bob", father: "John"}; {C: "John"}, father{child: "Carolyn", father: "Paul"}; {C: "Paul"}, father{child: "Henry", father: "Bob"}; {C: "Bob"}]
  "56" [label="56: Union" shape="box"]; // cache: [node_mc{id: "Pete", label: "Pete"}; {I: "Pete", N: "Pete"}, node_mc{id: "Paul", label: "Paul"}; {I: "Paul", N: "Paul"}, node_mc{id: "Ann", label: "Ann"}; {I: "Ann", N: "Ann"}, node_mc{id: "Bob", label: "Bob"}; {I: "Bob", N: "Bob"}, node_mc{id: "Mary", label: "Mary"}; {I: "Mary", N: "Mary"}, node_mc{id: "Carolyn", label: "Carolyn"}; {I: "Carolyn", N: "Carolyn"}, node_mm{id: "Mary", label: "Mary"}; {I: "Mary", N: "Mary"}, node_mm{id: "Judith", label: "Judith"}; {I: "Judith", N: "Judith"}, node_mm{id: "Judith", label: "Judith"}; {I: "Judith", N: "Judith"}, node_mm{id: "Ann", label: "Ann"}; {I: "Ann", N: "Ann"}, node_mm{id: "Carolyn K", label: "Carolyn K"}; {I: "Carolyn K", N: "Carolyn K"}, node_mm{id: "Mary", label: "Mary"}; {I: "Mary", N: "Mary"}, node_fc{id: "Pete", label: "Pete"}; {I: "Pete", N: "Pete"}, node_fc{id: "Paul", label: "Paul"}; {I: "Paul", N: "Paul"}, node_fc{id: "Ann", label: "Ann"}; {I: "Ann", N: "Ann"}, node_fc{id: "Mary", label: "Mary"}; {I: "Mary", N: "Mary"}, node_fc{id: "Bob", label: "Bob"}; {I: "Bob", N: "Bob"}, node_fc{id: "Carolyn", label: "Carolyn"}; {I: "Carolyn", N: "Carolyn"}, node_fc{id: "Henry", label: "Henry"}; {I: "Henry", N: "Henry"}, node_ff{id: "Paul", label: "Paul"}; {I: "Paul", N: "Paul"}, node_ff{id: "Peter", label: "Peter"}; {I: "Peter", N: "Peter"}, node_ff{id: "Peter", label: "Peter"}; {I: "Peter", N: "Peter"}, node_ff{id: "Mark", label: "Mark"}; {I: "Mark", N: "Mark"}, node_ff{id: "John", label: "John"}; {I: "John", N: "John"}, node_ff{id: "Paul", label: "Paul"}; {I: "Paul", N: "Paul"}, node_ff{id: "Bob", label: "Bob"}; {I: "Bob", N: "Bob"}]
  "57" [label="57: Match(node_mc{id: I, label: N}; {C: N})" shape="box"]; // cache: [node_mc{id: "Pete", label: "Pete"}; {I: "Pete", N: "Pete"}, node_mc{id: "Paul", label: "Paul"}; {I: "Paul", N: "Paul"}, node_mc{id: "Ann", label: "Ann"}; {I: "Ann", N: "Ann"}, node_mc{id: "Bob", label: "Bob"}; {I: "Bob", N: "Bob"}, node_mc{id: "Mary", label: "Mary"}; {I: "Mary", N: "Mary"}, node_mc{id: "Carolyn", label: "Carolyn"}; {I: "Carolyn", N: "Carolyn"}]
  "58" [label="58: Match(node_mm{id: I, label: N}; {C: N})" shape="box"]; // cache: [node_mm{id: "Mary", label: "Mary"}; {I: "Mary", N: "Mary"}, node_mm{id: "Judith", label: "Judith"}; {I: "Judith", N: "Judith"}, node_mm{id: "Judith", label: "Judith"}; {I: "Judith", N: "Judith"}, node_mm{id: "Ann", label: "Ann"}; {I: "Ann", N: "Ann"}, node_mm{id: "Carolyn K", label: "Carolyn K"}; {I: "Carolyn K", N: "Carolyn K"}, node_mm{id: "Mary", label: "Mary"}; {I: "Mary", N: "Mary"}]
  "59" [label="59: Match(node_fc{id: I, label: N}; {C: N})" shape="box"]; // cache: [node_fc{id: "Pete", label: "Pete"}; {I: "Pete", N: "Pete"}, node_fc{id: "Paul", label: "Paul"}; {I: "Paul", N: "Paul"}, node_fc{id: "Ann", label: "Ann"}; {I: "Ann", N: "Ann"}, node_fc{id: "Mary", label: "Mary"}; {I: "Mary", N: "Mary"}, node_fc{id: "Bob", label: "Bob"}; {I: "Bob", N: "Bob"}, node_fc{id: "Carolyn", label: "Carolyn"}; {I: "Carolyn", N: "Carolyn"}, node_fc{id: "Henry", label: "Henry"}; {I: "Henry", N: "Henry"}]
  "6" [label="6: Match(parent{child: B, parent: C}; {C: B, P: C})" shape="box"];
  "60" [label="60: Match(node_ff{id: I, label: N}; {C: N})" shape="box"]; // cache: [node_ff{id: "Paul", label: "Paul"}; {I: "Paul", N: "Paul"}, node_ff{id: "Peter", label: "Peter"}; {I: "Peter", N: "Peter"}, node_ff{id: "Peter", label: "Peter"}; {I: "Peter", N: "Peter"}, node_ff{id: "Mark", label: "Mark"}; {I: "Mark", N: "Mark"}, node_ff{id: "John", label: "John"}; {I: "John", N: "John"}, node_ff{id: "Paul", label: "Paul"}; {I: "Paul", N: "Paul"}, node_ff{id: "Bob", label: "Bob"}; {I: "Bob", N: "Bob"}]
  "7" [label="7: Match(parent{child: A, parent: B}; {C: A, P: B})" shape="box"];
  "8" [label="8: Join(7 & 6)" shape="box"];
  "9" [label="9: Union" shape="box"]; // cache: [father{child: "Pete", father: "Paul"}; {C: "Pete", P: "Paul"}, father{child: "Paul", father: "Peter"}; {C: "Paul", P: "Peter"}, father{child: "Ann", father: "Peter"}; {C: "Ann", P: "Peter"}, father{child: "Mary", father: "Mark"}; {C: "Mary", P: "Mark"}, father{child: "Bob", father: "John"}; {C: "Bob", P: "John"}, father{child: "Carolyn", father: "Paul"}; {C: "Carolyn", P: "Paul"}, father{child: "Henry", father: "Bob"}; {C: "Henry", P: "Bob"}, mother{child: "Pete", mother: "Mary"}; {C: "Pete", P: "Mary"}, mother{child: "Paul", mother: "Judith"}; {C: "Paul", P: "Judith"}, mother{child: "Ann", mother: "Judith"}; {C: "Ann", P: "Judith"}, mother{child: "Bob", mother: "Ann"}; {C: "Bob", P: "Ann"}, mother{child: "Mary", mother: "Carolyn K"}; {C: "Mary", P: "Carolyn K"}, mother{child: "Carolyn", mother: "Mary"}; {C: "Carolyn", P: "Mary"}]
  "ancestor" [label="ancestor: Subst(ancestor{an: Z, desc: X})" shape="box"]; // cache: [ancestor{an: "Paul", desc: "Pete"}; {X: "Pete", Z: "Paul"}, ancestor{an: "Peter", desc: "Paul"}; {X: "Paul", Z: "Peter"}, ancestor{an: "Peter", desc: "Pete"}; {X: "Pete", Y: "Paul", Z: "Peter"}, ancestor{an: "Peter", desc: "Ann"}; {X: "Ann", Z: "Peter"}, ancestor{an: "Mark", desc: "Mary"}; {X: "Mary", Z: "Mark"}, ancestor{an: "John", desc: "Bob"}; {X: "Bob", Z: "John"}, ancestor{an: "Paul", desc: "Carolyn"}; {X: "Carolyn", Z: "Paul"}, ancestor{an: "Peter", desc: "Carolyn"}; {X: "Carolyn", Y: "Paul", Z: "Peter"}, ancestor{an: "Bob", desc: "Henry"}; {X: "Henry", Z: "Bob"}, ancestor{an: "John", desc: "Henry"}; {X: "Henry", Y: "Bob", Z: "John"}, ancestor{an: "Mary", desc: "Pete"}; {X: "Pete", Z: "Mary"}, ancestor{an: "Mark", desc: "Pete"}; {X: "Pete", Y: "Mary", Z: "Mark"}, ancestor{an: "Judith", desc: "Paul"}; {X: "Paul", Z: "Judith"}, ancestor{an: "Judith", desc: "Pete"}; {X: "Pete", Y: "Paul", Z: "Judith"}, ancestor{an: "Judith", desc: "Carolyn"}; {X: "Carolyn", Y: "Paul", Z: "Judith"}, ancestor{an: "Judith", desc: "Ann"}; {X: "Ann", Z: "Judith"}, ancestor{an: "Ann", desc: "Bob"}; {X: "Bob", Z: "Ann"}, ancestor{an: "Ann", desc: "Henry"}; {X: "Henry", Y: "Bob", Z: "Ann"}, ancestor{an: "Peter", desc: "Bob"}; {X: "Bob", Y: "Ann", Z: "Peter"}, ancestor{an: "Judith", desc: "Bob"}; {X: "Bob", Y: "Ann", Z: "Judith"}, ancestor{an: "Peter", desc: "Henry"}; {X: "Henry", Y: "Bob", Z: "Peter"}, ancestor{an: "Judith", desc: "Henry"}; {X: "Henry", Y: "Bob", Z: "Judith"}, ancestor{an: "Carolyn K", desc: "Mary"}; {X: "Mary", Z: "Carolyn K"}, ancestor{an: "Carolyn K", desc: "Pete"}; {X: "Pete", Y: "Mary", Z: "Carolyn K"}, ancestor{an: "Mary", desc: "Carolyn"}; {X: "Carolyn", Z: "Mary"}, ancestor{an: "Mark", desc: "Carolyn"}; {X: "Carolyn", Y: "Mary", Z: "Mark"}, ancestor{an: "Carolyn K", desc: "Carolyn"}; {X: "Carolyn", Y: "Mary", Z: "Carolyn K"}]
  "aunt" [label="aunt: Subst(aunt{aunt: U, child: C})" shape="box"];
  "brother" [label="brother: Subst(brother{brother: R, person: L})" shape="box"];
  "cousin" [label="cousin: Subst(cousin{left: L, right: R})" shape="box"]; // cache: [cousin{left: "Pete", right: "Bob"}; {L: "Pete", P1: "Paul", P2: "Ann", R: "Bob"}, cousin{left: "Carolyn", right: "Bob"}; {L: "Carolyn", P1: "Paul", P2: "Ann", R: "Bob"}, cousin{left: "Bob", right: "Pete"}; {L: "Bob", P1: "Ann", P2: "Paul", R: "Pete"}, cousin{left: "Bob", right: "Carolyn"}; {L: "Bob", P1: "Ann", P2: "Paul", R: "Carolyn"}]
  "edge" [label="edge: Subst(edge{from: F, label: L, to: T})" shape="box"]; // cache: [edge{from: "Pete", label: "mother", to: "Mary"}; {F: "Pete", L: "mother", T: "Mary"}, edge{from: "Paul", label: "mother", to: "Judith"}; {F: "Paul", L: "mother", T: "Judith"}, edge{from: "Ann", label: "mother", to: "Judith"}; {F: "Ann", L: "mother", T: "Judith"}, edge{from: "Bob", label: "mother", to: "Ann"}; {F: "Bob", L: "mother", T: "Ann"}, edge{from: "Mary", label: "mother", to: "Carolyn K"}; {F: "Mary", L: "mother", T: "Carolyn K"}, edge{from: "Carolyn", label: "mother", to: "Mary"}; {F: "Carolyn", L: "mother", T: "Mary"}, edge{from: "Pete", label: "father", to: "Paul"}; {F: "Pete", L: "father", T: "Paul"}, edge{from: "Paul", label: "father", to: "Peter"}; {F: "Paul", L: "father", T: "Peter"}, edge{from: "Ann", label: "father", to: "Peter"}; {F: "Ann", L: "father", T: "Peter"}, edge{from: "Mary", label: "father", to: "Mark"}; {F: "Mary", L: "father", T: "Mark"}, edge{from: "Bob", label: "father", to: "John"}; {F: "Bob", L: "father", T: "John"}, edge{from: "Carolyn", label: "father", to: "Paul"}; {F: "Carolyn", L: "father", T: "Paul"}, edge{from: "Henry", label: "father", to: "Bob"}; {F: "Henry", L: "father", T: "Bob"}, edge{from: "Paul", label: "sibling", to: "Ann"}; {F: "Paul", L: "sibling", T: "Ann"}, edge{from: "Ann", label: "sibling", to: "Paul"}; {F: "Ann", L: "sibling", T: "Paul"}, edge{from: "Pete", label: "sibling", to: "Carolyn"}; {F: "Pete", L: "sibling", T: "Carolyn"}, edge{from: "Carolyn", label: "sibling", to: "Pete"}; {F: "Carolyn", L: "sibling", T: "Pete"}, edge{from: "Pete", label: "cousin", to: "Bob"}; {F: "Pete", L: "cousin", T: "Bob"}, edge{from: "Carolyn", label: "cousin", to: "Bob"}; {F: "Carolyn", L: "cousin", T: "Bob"}, edge{from: "Bob", label: "cousin", to: "Pete"}; {F: "Bob", L: "cousin", T: "Pete"}, edge{from: "Bob", label: "cousin", to: "Carolyn"}; {F: "Bob", L: "cousin", T: "Carolyn"}]
  "edge_cousin" [label="edge_cousin: Subst(edge_cousin{from: A, label: \"cousin\", to: B})" shape="box"]; // cache: [edge_cousin{from: "Pete", label: "cousin", to: "Bob"}; {A: "Pete", B: "Bob"}, edge_cousin{from: "Carolyn", label: "cousin", to: "Bob"}; {A: "Carolyn", B: "Bob"}, edge_cousin{from: "Bob", label: "cousin", to: "Pete"}; {A: "Bob", B: "Pete"}, edge_cousin{from: "Bob", label: "cousin", to: "Carolyn"}; {A: "Bob", B: "Carolyn"}]
  "edge_f" [label="edge_f: Subst(edge_f{from: C, label: \"father\", to: F})" shape="box"]; // cache: [edge_f{from: "Pete", label: "father", to: "Paul"}; {C: "Pete", F: "Paul"}, edge_f{from: "Paul", label: "father", to: "Peter"}; {C: "Paul", F: "Peter"}, edge_f{from: "Ann", label: "father", to: "Peter"}; {C: "Ann", F: "Peter"}, edge_f{from: "Mary", label: "father", to: "Mark"}; {C: "Mary", F: "Mark"}, edge_f{from: "Bob", label: "father", to: "John"}; {C: "Bob", F: "John"}, edge_f{from: "Carolyn", label: "father", to: "Paul"}; {C: "Carolyn", F: "Paul"}, edge_f{from: "Henry", label: "father", to: "Bob"}; {C: "Henry", F: "Bob"}]
  "edge_gp" [label="edge_gp: Subst(edge_gp{from: A, label: \"grandparent\", to: B})" shape="box"];
  "edge_m" [label="edge_m: Subst(edge_m{from: C, label: \"mother\", to: M})" shape="box"]; // cache: [edge_m{from: "Pete", label: "mother", to: "Mary"}; {C: "Pete", M: "Mary"}, edge_m{from: "Paul", label: "mother", to: "Judith"}; {C: "Paul", M: "Judith"}, edge_m{from: "Ann", label: "mother", to: "Judith"}; {C: "Ann", M: "Judith"}, edge_m{from: "Bob", label: "mother", to: "Ann"}; {C: "Bob", M: "Ann"}, edge_m{from: "Mary", label: "mother", to: "Carolyn K"}; {C: "Mary", M: "Carolyn K"}, edge_m{from: "Carolyn", label: "mother", to: "Mary"}; {C: "Carolyn", M: "Mary"}]
  "edge_sibling" [label="edge_sibling: Subst(edge_sibling{from: A, label: \"sibling\", to: B})" shape="box"]; // cache: [edge_sibling{from: "Paul", label: "sibling", to: "Ann"}; {A: "Paul", B: "Ann"}, edge_sibling{from: "Ann", label: "sibling", to: "Paul"}; {A: "Ann", B: "Paul"}, edge_sibling{from: "Pete", label: "sibling", to: "Carolyn"}; {A: "Pete", B: "Carolyn"}, edge_sibling{from: "Carolyn", label: "sibling", to: "Pete"}; {A: "Carolyn", B: "Pete"}]
  "father" [label="father: Base" shape="box"]; // cache: [father{child: "Pete", father: "Paul"}; {}, father{child: "Paul", father: "Peter"}; {}, father{child: "Ann", father: "Peter"}; {}, father{child: "Mary", father: "Mark"}; {}, father{child: "Bob", father: "John"}; {}, father{child: "Carolyn", father: "Paul"}; {}, father{child: "Henry", father: "Bob"}; {}]
  "grandfather" [label="grandfather: Subst(grandfather{grandchild: A, grandfather: C})" shape="box"];
  "grandmother" [label="grandmother: Subst(grandmother{grandchild: A, grandmother: C})" shape="box"];
  "grandparent" [label="grandparent: Subst(grandparent{grandchild: A, grandparent: C})" shape="box"];
  "mother" [label="mother: Base" shape="box"]; // cache: [mother{child: "Pete", mother: "Mary"}; {}, mother{child: "Paul", mother: "Judith"}; {}, mother{child: "Ann", mother: "Judith"}; {}, mother{child: "Bob", mother: "Ann"}; {}, mother{child: "Mary", mother: "Carolyn K"}; {}, mother{child: "Carolyn", mother: "Mary"}; {}]
  "node" [label="node: Subst(node{id: I, label: N})" shape="box"]; // cache: [node{id: "Pete", label: "Pete"}; {I: "Pete", N: "Pete"}, node{id: "Paul", label: "Paul"}; {I: "Paul", N: "Paul"}, node{id: "Ann", label: "Ann"}; {I: "Ann", N: "Ann"}, node{id: "Bob", label: "Bob"}; {I: "Bob", N: "Bob"}, node{id: "Mary", label: "Mary"}; {I: "Mary", N: "Mary"}, node{id: "Carolyn", label: "Carolyn"}; {I: "Carolyn", N: "Carolyn"}, node{id: "Mary", label: "Mary"}; {I: "Mary", N: "Mary"}, node{id: "Judith", label: "Judith"}; {I: "Judith", N: "Judith"}, node{id: "Judith", label: "Judith"}; {I: "Judith", N: "Judith"}, node{id: "Ann", label: "Ann"}; {I: "Ann", N: "Ann"}, node{id: "Carolyn K", label: "Carolyn K"}; {I: "Carolyn K", N: "Carolyn K"}, node{id: "Mary", label: "Mary"}; {I: "Mary", N: "Mary"}, node{id: "Pete", label: "Pete"}; {I: "Pete", N: "Pete"}, node{id: "Paul", label: "Paul"}; {I: "Paul", N: "Paul"}, node{id: "Ann", label: "Ann"}; {I: "Ann", N: "Ann"}, node{id: "Mary", label: "Mary"}; {I: "Mary", N: "Mary"}, node{id: "Bob", label: "Bob"}; {I: "Bob", N: "Bob"}, node{id: "Carolyn", label: "Carolyn"}; {I: "Carolyn", N: "Carolyn"}, node{id: "Henry", label: "Henry"}; {I: "Henry", N: "Henry"}, node{id: "Paul", label: "Paul"}; {I: "Paul", N: "Paul"}, node{id: "Peter", label: "Peter"}; {I: "Peter", N: "Peter"}, node{id: "Peter", label: "Peter"}; {I: "Peter", N: "Peter"}, node{id: "Mark", label: "Mark"}; {I: "Mark", N: "Mark"}, node{id: "John", label: "John"}; {I: "John", N: "John"}, node{id: "Paul", label: "Paul"}; {I: "Paul", N: "Paul"}, node{id: "Bob", label: "Bob"}; {I: "Bob", N: "Bob"}]
  "node_fc" [label="node_fc: Subst(node_fc{id: C, label: C})" shape="box"]; // cache: [node_fc{id: "Pete", label: "Pete"}; {C: "Pete"}, node_fc{id: "Paul", label: "Paul"}; {C: "Paul"}, node_fc{id: "Ann", label: "Ann"}; {C: "Ann"}, node_fc{id: "Mary", label: "Mary"}; {C: "Mary"}, node_fc{id: "Bob", label: "Bob"}; {C: "Bob"}, node_fc{id: "Carolyn", label: "Carolyn"}; {C: "Carolyn"}, node_fc{id: "Henry", label: "Henry"}; {C: "Henry"}]
  "node_ff" [label="node_ff: Subst(node_ff{id: C, label: C})" shape="box"]; // cache: [node_ff{id: "Paul", label: "Paul"}; {C: "Paul"}, node_ff{id: "Peter", label: "Peter"}; {C: "Peter"}, node_ff{id: "Peter", label: "Peter"}; {C: "Peter"}, node_ff{id: "Mark", label: "Mark"}; {C: "Mark"}, node_ff{id: "John", label: "John"}; {C: "John"}, node_ff{id: "Paul", label: "Paul"}; {C: "Paul"}, node_ff{id: "Bob", label: "Bob"}; {C: "Bob"}]
  "node_mc" [label="node_mc: Subst(node_mc{id: C, label: C})" shape="box"]; // cache: [node_mc{id: "Pete", label: "Pete"}; {C: "Pete"}, node_mc{id: "Paul", label: "Paul"}; {C: "Paul"}, node_mc{id: "Ann", label: "Ann"}; {C: "Ann"}, node_mc{id: "Bob", label: "Bob"}; {C: "Bob"}, node_mc{id: "Mary", label: "Mary"}; {C: "Mary"}, node_mc{id: "Carolyn", label: "Carolyn"}; {C: "Carolyn"}]
  "node_mm" [label="node_mm: Subst(node_mm{id: C, label: C})" shape="box"]; // cache: [node_mm{id: "Mary", label: "Mary"}; {C: "Mary"}, node_mm{id: "Judith", label: "Judith"}; {C: "Judith"}, node_mm{id: "Judith", label: "Judith"}; {C: "Judith"}, node_mm{id: "Ann", label: "Ann"}; {C: "Ann"}, node_mm{id: "Carolyn K", label: "Carolyn K"}; {C: "Carolyn K"}, node_mm{id: "Mary", label: "Mary"}; {C: "Mary"}]
  "parent" [label="parent: Subst(parent{child: C, parent: P})" shape="box"]; // cache: [parent{child: "Pete", parent: "Paul"}; {C: "Pete", P: "Paul"}, parent{child: "Paul", parent: "Peter"}; {C: "Paul", P: "Peter"}, parent{child: "Ann", parent: "Peter"}; {C: "Ann", P: "Peter"}, parent{child: "Mary", parent: "Mark"}; {C: "Mary", P: "Mark"}, parent{child: "Bob", parent: "John"}; {C: "Bob", P: "John"}, parent{child: "Carolyn", parent: "Paul"}; {C: "Carolyn", P: "Paul"}, parent{child: "Henry", parent: "Bob"}; {C: "Henry", P: "Bob"}, parent{child: "Pete", parent: "Mary"}; {C: "Pete", P: "Mary"}, parent{child: "Paul", parent: "Judith"}; {C: "Paul", P: "Judith"}, parent{child: "Ann", parent: "Judith"}; {C: "Ann", P: "Judith"}, parent{child: "Bob", parent: "Ann"}; {C: "Bob", P: "Ann"}, parent{child: "Mary", parent: "Carolyn K"}; {C: "Mary", P: "Carolyn K"}, parent{child: "Carolyn", parent: "Mary"}; {C: "Carolyn", P: "Mary"}]
  "parents" [label="parents: Subst(parents{child: C, father: F, mother: M})" shape="box"]; // cache: [parents{child: "Pete", father: "Paul", mother: "Mary"}; {C: "Pete", F: "Paul", M: "Mary"}, parents{child: "Paul", father: "Peter", mother: "Judith"}; {C: "Paul", F: "Peter", M: "Judith"}, parents{child: "Ann", father: "Peter", mother: "Judith"}; {C: "Ann", F: "Peter", M: "Judith"}, parents{child: "Mary", father: "Mark", mother: "Carolyn K"}; {C: "Mary", F: "Mark", M: "Carolyn K"}, parents{child: "Bob", father: "John", mother: "Ann"}; {C: "Bob", F: "John", M: "Ann"}, parents{child: "Carolyn", father: "Paul", mother: "Mary"}; {C: "Carolyn", F: "Paul", M: "Mary"}]
  "person" [label="person: Base" shape="box"]; // cache: [person{gender: "Male", name: "Paul"}; {}, person{gender: "Female", name: "Ann"}; {}]
  "sibling" [label="sibling: Subst(sibling{left: L, right: R})" shape="box"]; // cache: [sibling{left: "Paul", right: "Ann"}; {F: "Peter", L: "Paul", M: "Judith", R: "Ann"}, sibling{left: "Ann", right: "Paul"}; {F: "Peter", L: "Ann", M: "Judith", R: "Paul"}, sibling{left: "Pete", right: "Carolyn"}; {F: "Paul", L: "Pete", M: "Mary", R: "Carolyn"}, sibling{left: "Carolyn", right: "Pete"}; {F: "Paul", L: "Carolyn", M: "Mary", R: "Pete"}]
  "sister" [label="sister: Subst(sister{person: L, sister: R})" shape="box"]; // cache: [sister{person: "Paul", sister: "Ann"}; {L: "Paul", R: "Ann"}, sister{person: "Paul", sister: "Ann"}; {L: "Paul", R: "Ann"}, sister{person: "Ann", sister: "Paul"}; {L: "Ann", R: "Paul"}, sister{person: "Pete", sister: "Carolyn"}; {L: "Pete", R: "Carolyn"}, sister{person: "Carolyn", sister: "Pete"}; {L: "Carolyn", R: "Pete"}]
  "uncle" [label="uncle: Subst(uncle{child: C, uncle: U})" shape="box"];
  "0" -> "2" [];
  "1" -> "2" [];
  "10" -> "9" [];
  "11" -> "9" [];
  "12" -> "14" [];
  "13" -> "14" [];
  "14" -> "parents" [];
  "15" -> "17" [];
  "16" -> "17" [];
  "17" -> "18" [];
  "18" -> "sibling" [];
  "19" -> "21" [];
  "2" -> "grandfather" [];
  "20" -> "21" [];
  "21" -> "23" [];
  "22" -> "23" [];
  "23" -> "cousin" [];
  "24" -> "26" [];
  "25" -> "26" [];
  "26" -> "uncle" [];
  "27" -> "29" [];
  "28" -> "29" [];
  "29" -> "aunt" [];
  "3" -> "5" [];
  "30" -> "32" [];
  "31" -> "32" [];
  "32" -> "brother" [];
  "33" -> "35" [];
  "34" -> "35" [];
  "35" -> "sister" [];
  "36" -> "ancestor" [];
  "37" -> "36" [];
  "38" -> "40" [];
  "39" -> "40" [];
  "4" -> "5" [];
  "40" -> "36" [];
  "41" -> "edge_m" [];
  "42" -> "edge_f" [];
  "43" -> "edge_gp" [];
  "44" -> "edge_sibling" [];
  "45" -> "edge_cousin" [];
  "46" -> "edge" [];
  "47" -> "46" [];
  "48" -> "46" [];
  "49" -> "46" [];
  "5" -> "grandmother" [];
  "50" -> "46" [];
  "51" -> "46" [];
  "52" -> "node_mc" [];
  "53" -> "node_mm" [];
  "54" -> "node_fc" [];
  "55" -> "node_ff" [];
  "56" -> "node" [];
  "57" -> "56" [];
  "58" -> "56" [];
  "59" -> "56" [];
  "6" -> "8" [];
  "60" -> "56" [];
  "7" -> "8" [];
  "8" -> "grandparent" [];
  "9" -> "parent" [];
  "ancestor" -> "38" [];
  "brother" -> "24" [];
  "cousin" -> "45" [];
  "edge_cousin" -> "51" [];
  "edge_f" -> "48" [];
  "edge_gp" -> "49" [];
  "edge_m" -> "47" [];
  "edge_sibling" -> "50" [];
  "father" -> "0" [];
  "father" -> "11" [];
  "father" -> "12" [];
  "father" -> "42" [];
  "father" -> "54" [];
  "father" -> "55" [];
  "grandparent" -> "43" [];
  "mother" -> "3" [];
  "mother" -> "10" [];
  "mother" -> "13" [];
  "mother" -> "41" [];
  "mother" -> "52" [];
  "mother" -> "53" [];
  "node_fc" -> "59" [];
  "node_ff" -> "60" [];
  "node_mc" -> "57" [];
  "node_mm" -> "58" [];
  "parent" -> "1" [];
  "parent" -> "4" [];
  "parent" -> "6" [];
  "parent" -> "7" [];
  "parent" -> "19" [];
  "parent" -> "22" [];
  "parent" -> "25" [];
  "parent" -> "28" [];
  "parent" -> "37" [];
  "parent" -> "39" [];
  "parents" -> "15" [];
  "parents" -> "16" [];
  "person" -> "31" [];
  "person" -> "34" [];
  "sibling" -> "20" [];
  "sibling" -> "30" [];
  "sibling" -> "33" [];
  "sibling" -> "44" [];
  "sister" -> "27" [];
}
